{% extends 'base.html' %}
{% load static %}

{% block title %}Shinychu Ultimates{% endblock %}

{% block content %}
<div class="scanlines"></div>
<div class="noise"></div>

<div class="fixed inset-0 w-full h-full z-0">
    <img src="{% static 'img/top.jpg' %}" class="bg-slide" alt="Background TOP">
    <img src="{% static 'img/tea.jpg' %}" class="bg-slide" alt="Background TEA">
    <img src="{% static 'img/dsr.jpg' %}" class="bg-slide" alt="Background DSR">
    <img src="{% static 'img/ucob.jpg' %}" class="bg-slide" alt="Background UCOB">
    <img src="{% static 'img/uwu.jpg' %}" class="bg-slide" alt="Background UWU">
    <img src="{% static 'img/fru.jpg' %}" class="bg-slide" alt="Background FRU">
</div>
<div class="min-h-screen w-full bg-black/40 backdrop-blur-sm flex flex-col items-center justify-center p-4 md:p-10 relative overflow-hidden z-10">
    
    <h1 class="text-4xl md:text-6xl font-bold text-white mb-12 tracking-[0.2em] retro-text-shadow z-10 text-center" style="view-transition-name: title-main">
        SELECT ULTIMATE
    </h1>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full max-w-6xl z-10">

        <a href="{% url 'pf_page' 'top' %}" class="bento-card group border-white/10 hover:border-red-500/50 hover:shadow-[0_0_30px_rgba(239,68,68,0.3)]">
            <img src="{% static 'img/top.jpg' %}" class="bento-bg" style="view-transition-name: img-top;" decoding="sync" loading="eager">
            <div class="bento-content">
                <h2 class="text-3xl font-bold text-white group-hover:text-red-400 transition-colors">TOP</h2>
                <p class="text-[0.6rem] text-gray-300 tracking-widest uppercase mt-1">The Omega Protocol</p>
            </div>
        </a>

        <a href="{% url 'pf_page' 'tea' %}" class="bento-card group border-white/10 hover:border-yellow-500/50 hover:shadow-[0_0_30px_rgba(234,179,8,0.3)]">
            <img src="{% static 'img/tea.jpg' %}" class="bento-bg" style="view-transition-name: img-tea;" decoding="sync" loading="eager">
            <div class="bento-content">
                <h2 class="text-3xl font-bold text-white group-hover:text-yellow-400 transition-colors">TEA</h2>
                <p class="text-[0.6rem] text-gray-300 tracking-widest uppercase mt-1">The Epic of Alexander</p>
            </div>
        </a>

        <a href="{% url 'pf_page' 'dsr' %}" class="bento-card group border-white/10 hover:border-orange-500/50 hover:shadow-[0_0_30px_rgba(249,115,22,0.3)]">
            <img src="{% static 'img/dsr.jpg' %}" class="bento-bg" style="view-transition-name: img-dsr;" decoding="sync" loading="eager">
            <div class="bento-content">
                <h2 class="text-3xl font-bold text-white group-hover:text-orange-400 transition-colors">DSR</h2>
                <p class="text-[0.6rem] text-gray-300 tracking-widest uppercase mt-1">Dragonsong's Reprise</p>
            </div>
        </a>

        <a href="{% url 'pf_page' 'ucob' %}" class="bento-card group border-white/10 hover:border-yellow-600/50 hover:shadow-[0_0_30px_rgba(202,138,4,0.3)]">
            <img src="{% static 'img/ucob.jpg' %}" class="bento-bg" style="view-transition-name: img-ucob;" decoding="sync" loading="eager">
            <div class="bento-content">
                <h2 class="text-3xl font-bold text-white group-hover:text-yellow-500 transition-colors">UCOB</h2>
                <p class="text-[0.6rem] text-gray-300 tracking-widest uppercase mt-1">Unending Coil of Bahamut</p>
            </div>
        </a>

        <a href="{% url 'pf_page' 'uwu' %}" class="bento-card group border-white/10 hover:border-cyan-500/50 hover:shadow-[0_0_30px_rgba(6,182,212,0.3)]">
            <img src="{% static 'img/uwu.jpg' %}" class="bento-bg" style="view-transition-name: img-uwu;" decoding="sync" loading="eager">
            <div class="bento-content">
                <h2 class="text-3xl font-bold text-white group-hover:text-cyan-400 transition-colors">UWU</h2>
                <p class="text-[0.6rem] text-gray-300 tracking-widest uppercase mt-1">Weapon's Refrain</p>
            </div>
        </a>
        
        <a href="{% url 'pf_page' 'fru' %}" class="bento-card group border-white/10 hover:border-purple-500/50 hover:shadow-[0_0_30px_rgba(168,85,247,0.3)]">
            <img src="{% static 'img/fru.jpg' %}" class="bento-bg" style="view-transition-name: img-fru;" decoding="sync" loading="eager">
            <div class="bento-content">
                <h2 class="text-3xl font-bold text-white group-hover:text-purple-400 transition-colors">FRU</h2>
                <p class="text-[0.6rem] text-gray-300 tracking-widest uppercase mt-1">Futures Rewritten</p>
            </div>
        </a>

    </div>
</div>

<style>
    .bg-slide {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        opacity: 0;
        transition: opacity 2s ease-in-out;
        filter: brightness(0.3) blur(2px) saturate(1.2);
        transform: scale(1.05);
    }
    
    .bg-slide.active {
        opacity: 1;
        z-index: 1;
    }

    .bento-card {
        position: relative;
        height: 200px;
        border-radius: 1.5rem;
        overflow: hidden;
        border-width: 1px;
        background: rgba(255, 255, 255, 0.03);
        backdrop-filter: blur(10px);
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
    }
    .bento-card:hover {
        transform: translateY(-5px) scale(1.02);
    }
    .bento-bg {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        opacity: 0.4;
        transition: opacity 0.4s ease;
        z-index: 0;
    }
    .bento-card:hover .bento-bg {
        opacity: 0.7;
    }
    .bento-content {
        position: relative;
        z-index: 10;
        text-align: center;
        background: rgba(0,0,0,0.7);
        padding: 1rem 2rem;
        border-radius: 1rem;
        backdrop-filter: blur(4px);
        border: 1px solid rgba(255,255,255,0.1);
        box-shadow: 0 4px 6px rgba(0,0,0,0.3);
    }
</style>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const slides = document.querySelectorAll('.bg-slide');
        let currentSlide = Math.floor(Math.random() * slides.length);
        slides[currentSlide].classList.add('active');

        const slideInterval = 6000;
        function nextSlide() {
            slides[currentSlide].classList.remove('active');
            currentSlide = (currentSlide + 1) % slides.length;
            slides[currentSlide].classList.add('active');
        }
        setInterval(nextSlide, slideInterval);
    });
</script>
{% endblock %}